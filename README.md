# magabot
ูฺฏุงุจุงุช ุชูฺฏุฑุงู
 ุจุง ุฎุท ุจู ุฎุท ูุงู `main.py` ุฑู ุจุง ูู ุจุฑุฑุณ ฺฉูู. ุงู ูุงู ุญฺฉู ูุบุฒ ุงุตู ูพุฑูฺู ุฑู ุฏุงุฑูุ ูุซู ููุช ฺฉู ุชููุฒููู ุฑูุดู ูโฺฉูุ ุงูุฌุง ูู ูุง ุฑุจุงุช ุฑู ุฑูุดู ูโฺฉูู!

---

## ๐น ุฎุท ุงูู:

```python
import asyncio
```

ุงู ฺฉุชุงุจุฎููู ูุฎุตูุต ฺฉุงุฑูุง **ููุฒูุงู (asynchronous)** ูุณุช. ูุซู ุงูู ฺฉู ุจู ุฌุง ุงูฺฉู ุตุจุฑ ฺฉูู ฺฉ ฺฉุงุฑ ุชููู ุดูุ ฺูุฏุชุง ฺฉุงุฑู ุจุง ูู ุงูุฌุงู ุจุฏู.

---

## ๐น ุฎุท ุฏูู ุชุง ูุดุชู: ูุงฺููโูุง ุฑู ูุงุฑุฏ ูโฺฉูู:

```python
from megabot.bot import bot, dp
```

ูุง ุงูุฌุง ุฑุจุงุช ู dispatcher (ูุฏุฑ ูพุฎุด ูพุงูโูุง) ุฑู ูุงุฑุฏ ูโฺฉูู. `bot` ูููู ูุงุดูู ฺฉู ุจู ุชูฺฏุฑุงู ูุตู ูโุดู ู ูพุงูโูุง ุฑู ูโูุฑุณุชู. `dp` ูู ฺฉุณู ฺฉู ูพุงูโูุง ุฑู ูุฏุฑุช ูโฺฉูู.

```python
from megabot.database.db import init_db
```

ุชุงุจุน `init_db` ุฏุชุงุจุณ ุฑู ุฑุงู ููุฏุงุฒู. ุนู ูุซู ุงูฺฉู ุจฺฏู "ุฏูุชุฑ ุงุฏุฏุงุดุชโููู ุฑู ุจุงุฒ ฺฉู!"

```python
from megabot.handlers import start, help
from megabot.handlers import shop, ticket, ai_handler
from megabot.handlers import quiz_handler, admin_dashboard_handler
```

ุงูุง ูููโุงุดูู ูุงูโูุง ูุณุชู ฺฉู ุฏุณุชูุฑุงุช ูุฎุชูู ุฑู ูุฏุฑุช ูโฺฉูู. ูุซูุงู:

* `/start` ู `/help`
* ูุฑูุดฺฏุงู (`shop`)
* ูพุดุชุจุงู (`ticket`)
* ฺุชโุจุงุช ููุดููุฏ (`ai_handler`)
* ุขุฒููู ู ุณุฑฺฏุฑู (`quiz_handler`)
* ุขูุงุฑ ู ฺฏุฒุงุฑุด ุงุฏูู (`admin_dashboard_handler`)

---

## ๐น ุฎุท:

```python
from megabot.utils.logger import setup_logger
```

ุงูุฌุง ู ุณุณุชู ุจุฑุง ูุงฺฏโฺฏุฑูุชู ุฏุงุฑูุ ุนู ูุซู ุฌุนุจู ุณุงู ููุงูพูุงุ ูุฑ ุงุชูุงู ูโุงูุชูุ ุชู ูุงู ูุงฺฏ ุซุจุช ูโฺฉูู.

---

## ๐น ุฎุท:

```python
from megabot.middlewares.message_logger import MessageLoggerMiddleware
from megabot.middlewares.anti_spam import AntiSpamMiddleware
```

ุงูุง ูุซู "ูฺฏูุจุงูโูุง" ูุณุชู ฺฉู ูุณุท ุฑุงู ูพุงู ุฑู ูโฺฏุฑู:

* ุงูู ูพุงูโูุง ุฑู ุซุจุช ูโฺฉูู (ฺฉ ฺ ฺฏูุช)
* ุฏูู ุฌูู ุงุณูพู ุฑู ูโฺฏุฑู (ุงฺฏู ฺฉุณ ุฒุงุฏ ูพุงู ุจุฏู ุง ุญุฑู ุจุฏ ุจุฒููุ ุงุฎุทุงุฑ ุง ุจูุด ูโฺฉูู)

---

## โ ุญุงูุง ุจุฑู ุณุฑุงุบ ุชุงุจุน ุงุตู ุจุฑูุงูู:

```python
async def main():
```

ู ุชุงุจุน ุบุฑููุฒูุงููุ ุนู ูโุชููู ฺูุฏ ฺฉุงุฑู ุจุง ูู ุงูุฌุงู ุจุฏู.

### ุฏุงุฎูุด ฺู ุฎุจุฑูุ ุจุจู:

```python
    setup_logger()
```

ุฌุนุจู ุณุงู ุฑู ุฑูุดู ูโฺฉูู.

```python
    await init_db()
```

ุฏุชุงุจุณ ุฑู ุฑุงูโุงูุฏุงุฒ ูโฺฉูู.

---

### ุจุนุฏุด ูฺฏูุจุงูโูุง ุฑู ูโุฐุงุฑู ุณุฑ ุฌุงุดูู:

```python
    dp.update.middleware.register(MessageLoggerMiddleware())
    dp.update.middleware.register(AntiSpamMiddleware())
```

---

### ุจุนุฏ ูููโ ูุฏุฑุง ุจุฎุดโูุง ุฑู ุตุฏุง ูโุฒูู:

```python
    dp.include_router(start.router)
    dp.include_router(help.router)
    ...
```

ูุฑ ฺฉุฏูู ุงุฒ ุงูุง ูุณุฆูู ู ุจุฎุด ูุณุชูุ ูุซูุง:

* `start.router`: ููุช ฺฉ `/start` ูโุฒูู
* `shop.router`: ููุช ฺฉุงุฑุจุฑ ูโุฑู ูุฑูุดฺฏุงู
* `ai_handler.router`: ููุช ุฑุจุงุช ูุฑุงุฑู ููุดููุฏ ุฌูุงุจ ุจุฏู
  ู...

---

### ุฏุฑ ููุงุช:

```python
    print("โ Bot is running...")
    await dp.start_polling(bot)
```

ุงู ุนู: ุจุฑู ุฑุจุงุชู ุฑูุดู ฺฉู ู ูุฑฺฉ ูุฑฺ ฺฏูุชุ ฺฏูุด ุจุฏู ู ุฌูุงุจ ุจุฏู.

---

### ู ุฏุฑ ุงูุชูุง:

```python
if __name__ == "__main__":
    asyncio.run(main())
```

ุงู ุนู ููุช ูุงู ูุณุชููุงู ุงุฌุฑุง ุดุฏุ ุจุฑูุงููโ ูุง ุงุฒ `main()` ุดุฑูุน ูโุดู.

---


